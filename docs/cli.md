# 🧠 CLI

`playground` CLI is available in `scripts/cli/playground`.
It makes so much easier to use the playground and reduces a lot the Docker knowledge required !

## 🚜 Setup

### 🦶 Setup PATH

Add it to your `PATH` environment variable by adding this in your `~/.bashrc` or `~/.zshrc`:

```bash
export PATH=/path/to/kafka-docker-playground/scripts/cli:$PATH
```

> [!WARNING]
> The bash script generated by [bashly](https://bashly.dannyb.co/) can run in any shell, but require that bash 4 or higher is installed.
> Mac users can upgrade bash by running `brew install bash`

### ⚡ Setup completion

A Bash completion file is also available in `scripts/cli/completions.bash`.

In order to be able to use completion with the CLI, you just need to add this in your `~/.bashrc` or `~/.zshrc`:

```bash
source /path/to/kafka-docker-playground/scripts/cli/completions.bash
```

> [!NOTE]
> If you use ZSH, but **not** `Oh-My-Zsh`, please check [this](https://bashly.dannyb.co/advanced/bash-completion/#completions-in-zsh).

### 🪄 Setup Shell Script Command Completion Visual Studio Code extension

Get nice [IntelliSense](https://learn.microsoft.com/en-us/visualstudio/ide/using-intellisense?view=vs-2022) completion for `playground` CLI in Visual Studio Code ! It uses a slightly modified version of "Shell Script Command Completion" Visual Studio Code extension (https://marketplace.visualstudio.com/items?itemName=tetradresearch.vscode-h2o):

![vscode-extension](./images/vscode-extension.gif)

To install it, follow those 2 steps:

```bash
playground debug install-vscode-extension
```

Once installed, go on a `.sh` script and then type  in Palette `Ctrl+Shift+P` (or `⌘+⇧+P` on macOS) and choose `Shell Completion: Load Command Spec (experimental)` and then type `playground`

![extension](./images/vscode_extension1.jpg)

![extension](./images/vscode_extension2.jpg)

### ⚙️ Config

CLI can be configured using [playground config](/playground%20config) 

## ✨ Command Reference

**playground**

🧠 CLI for Kafka Docker Playground 🐳  
  
👉 Check documentation https://kafka-docker-playground.io/#/cli

| Attributes       | &nbsp;
|------------------|-------------
| Version:         | 1.0.0

### Usage

```bash
playground COMMAND
```

### Dependencies

*docker*

visit https://docs.docker.com/get-docker to install

### == Commands ==

- [help](playground%20help) - Show help about a command
- [status](playground%20status) - 🗺️ Show a status
- [config](playground%20config) - ⚙️ Configure CLI

### Run commands

- [run](playground%20run) - 🕹️ Run any example, except for Confluent Cloud (in this case use run-ccloud command)
- [re-run](playground%20re-run) - ⚡ Simply re-run last example you ran with \<playground run\> or \<playground run-ccloud\>
- [history](playground%20history) - 🏰 Get an history of the examples which were run with run command and run it again
- [start-environment](playground%20start-environment) - 🔐 Simply start an environment listed in https://kafka-docker-playground.io/#/content?id=%f0%9f%94%90-environments:
- [run-ccloud](playground%20run-ccloud) - ⛅ Run any Confluent Cloud (ccloud) example
- [switch-ccloud](playground%20switch-ccloud) - 🌩️  Switch to ccloud environment.
- [switch-back](playground%20switch-back) - 💺  Switch back from previous environment before switch-ccloud was called.
- [update-version](playground%20update-version) - ✨ Update current confluent platform or connector(s) with new version(s)
- [open](playground%20open) - 👐 When --file is not provided, simply open last example you ran with \<playground run\> or \<playground run-ccloud\>
- [stop](playground%20stop) - 🛑 Stop currently running example
- [open-docs](playground%20open-docs) - 🧑‍🎓 Open Confluent documentation of currently running example

### Repro commands

- [repro](playground%20repro) - 👷‍♂️ Reproduction model commands
- [export](playground%20repro%20export) - 📤 Export as tgz file uncommitted reproduction models from the folder of current reproduction model
- [import](playground%20repro%20import) - 📥 Import tgz file which was created with export command
- [bootstrap](playground%20repro%20bootstrap) - 🛠  Bootstrap reproduction model

### Kafka commands

- [get-docker-compose](playground%20get-docker-compose) - 🐋 Get docker-compose
- [get-properties](playground%20get-properties) - 📝 Get properties file from a container
- [get-jmx-metrics](playground%20get-jmx-metrics) - 🔢 Get JMX metrics from a component

### Schema commands

- [schema](playground%20schema) - 🔰 Schema commands
- [get](playground%20schema%20get) - 🔰 Get all schemas versions for specified subject (if --subject is not specified, all subjects will be used)
- [register](playground%20schema%20register) - ⏺️ Register a schema in specified subject
- [get-compatibility](playground%20schema%20get-compatibility) - 🛡️ Get subject-level compatibility
- [set-compatibility](playground%20schema%20set-compatibility) - 🛡️ Set subject-level compatibility
- [get-mode](playground%20schema%20get-mode) - 🔏 Get subject-level mode
- [set-mode](playground%20schema%20set-mode) - 🔏 Set subject-level mode
- [delete](playground%20schema%20delete) - 🧟 Delete schema

### Debug commands

- [debug](playground%20debug) - 🐞 Debug commands
- [install-vscode-extension](playground%20debug%20install-vscode-extension) - 🪄 Install a slightly modified version of "Shell Script Command Completion" Visual Studio Code extension (https://marketplace.visualstudio.com/items?itemName=tetradresearch.vscode-h2o)
- [enable-remote-debugging](playground%20debug%20enable-remote-debugging) - ✨ Enable java remote debugging for container
- [testssl](playground%20debug%20testssl) - 🔐 Testing TLS/SSL encryption using https://testssl.sh/
- [generate-diagnostics](playground%20debug%20generate-diagnostics) - ⛑️ Generate a diagnostic bundle with Diagnostics Bundle Tool
- [thread-dump](playground%20debug%20thread-dump) - 🎯 Take a java thread dump
- [heap-dump](playground%20debug%20heap-dump) - 👻 Take a heap dump
- [tcp-dump](playground%20debug%20tcp-dump) - 🕵️‍♂️ Take a tcp dump (sniffing network)
- [block-traffic](playground%20debug%20block-traffic) - 🚫 Blocking traffic using iptables
- [flight-recorder](playground%20debug%20flight-recorder) - 🛩️ Record flight recorder
- [log-level](playground%20debug%20log-level) - 🧬 Set log level for any package

### Container commands

- [container](playground%20container) - 🐳 Container commands
- [recreate](playground%20container%20recreate) - 💫 Recreate container(s)
- [get-ip-addresses](playground%20container%20get-ip-addresses) - 🖥️  Get ip address of running containers
- [kill-all](playground%20container%20kill-all) - 💀 Kill all containers
- [logs](playground%20container%20logs) - 🕵️  Tail and follow container logs
- [ssh](playground%20container%20ssh) - 🛬 SSH into container
- [exec](playground%20container%20exec) - 🪄  Execute command in a container
- [restart](playground%20container%20restart) - 🔁 Restart a container
- [pause](playground%20container%20pause) - ⏸️  Pause a container
- [resume](playground%20container%20resume) - ⏯️  Resume a container
- [kill](playground%20container%20kill) - 🔫 Kill a container

### Topic commands

- [topic](playground%20topic) - 🗳 Topic commands
- [get-number-records](playground%20topic%20get-number-records) - 💯 Get number of records in a topic
- [display-consumer-offsets](playground%20topic%20display-consumer-offsets) - 📭 Display content of __consumer_offsets topic
- [list](playground%20topic%20list) - 🔘 List topics
- [describe](playground%20topic%20describe) - 🔬 Describe topic
- [set-schema-compatibility](playground%20topic%20set-schema-compatibility) - 🛡️ Change topic's schema compatibility
- [consume](playground%20topic%20consume) - 📥 Consume topic from beginning
- [produce](playground%20topic%20produce) - 📤 Produce to a topic
- [create](playground%20topic%20create) - 🆕 Create topic
- [delete](playground%20topic%20delete) - ❌ Delete topic and associated schema/subject if applicable
- [alter](playground%20topic%20alter) - 🪛 Alter topic config

### Connector commands

- [ccloud-connector](playground%20ccloud-connector) - 🔗☁️ Fully Managed Connector commands
- [status](playground%20ccloud-connector%20status) - 🧩 Show status of all connectors
- [plugins](playground%20ccloud-connector%20plugins) - 🎨 Show all plugins installed
- [pause](playground%20ccloud-connector%20pause) - ⏸️  Pause connector
- [resume](playground%20ccloud-connector%20resume) - ⏯️  Resume connector
- [delete](playground%20ccloud-connector%20delete) - 🗑️  Delete connector
- [show-lag](playground%20ccloud-connector%20show-lag) - 🐢 Show lag of sink connector
- [show-config](playground%20ccloud-connector%20show-config) - 🧰 Show current connector config
- [show-config-parameters](playground%20ccloud-connector%20show-config-parameters) - 🔩 Show all possible configuration parameters of connector
- [create-or-update](playground%20ccloud-connector%20create-or-update) - 🧑‍🎨  Create or update connector
- [connector](playground%20connector) - 🔗 Connector commands
- [status](playground%20connector%20status) - 🧩 Show status of all connectors
- [plugins](playground%20connector%20plugins) - 🎨 Show all connector plugins installed. You can also display transforms, converters and predicates using --all flag
- [pause](playground%20connector%20pause) - ⏸️  Pause connector
- [versions](playground%20connector%20versions) - 🧞 Get current and latest version available on Confluent Hub for connector(s) used in example
- [restart](playground%20connector%20restart) - ♻️  Restart connector
- [stop](playground%20connector%20stop) - 🛑 Stop connector (only available if CP \> 7.5 )
- [resume](playground%20connector%20resume) - ⏯️  Resume connector
- [delete](playground%20connector%20delete) - 🗑️  Delete connector
- [show-lag](playground%20connector%20show-lag) - 🐢 Show lag of sink connector
- [show-config](playground%20connector%20show-config) - 🧰 Show current connector config
- [show-config-parameters](playground%20connector%20show-config-parameters) - 🔩 Show all possible configuration parameters of connector
- [search-jar](playground%20connector%20search-jar) - 🔌 List jars for a connector plugin from confluent hub https://www.confluent.io/hub/ Search for specific class and display method signatures
- [log-level](playground%20connector%20log-level) - 🧬 Set connect log level
- [create-or-update](playground%20connector%20create-or-update) - 🧑‍🎨  Create or update connector


